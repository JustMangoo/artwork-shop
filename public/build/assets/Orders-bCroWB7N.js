import{M as b}from"./MainLayout-DoVnhuLV.js";import{M as D}from"./Modal-Dobz_Sg4.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{s as M,o as c,c as k,w as _,b as t,g as d,l as m,t as e,F as h,h as g,i as P,p as j,q as w}from"./index.esm-BSd0a89p.js";import"./Navigation-DHCB5LAN.js";/* empty css                                                                   */import"./CartSidebar-D12dIBYV.js";/* empty css                                                                    */import"./InputError-DCZ6rp5i.js";/* empty css                                                                   *//* empty css                                                                   */const x={components:{MainLayout:b,Modal:D},props:{orders:Array},data(){return{isModalOpen:!1,selectedOrder:{}}},computed:{groupedByMonth(){const s={};return this.orders.forEach(o=>{const u=this.formatDate(o.created_at);s[u]||(s[u]=[]),s[u].push(o)}),s}},methods:{formatDate(s){if(!s)return"";const o=new Date(s);return o.toLocaleDateString("lv-LV",{month:"long"})+", "+o.getFullYear()},formatDateNumeral(s){const o=new Date(s),u=o.getDate().toString().padStart(2,"0"),O=(o.getMonth()+1).toString().padStart(2,"0"),l=o.getFullYear(),a=o.getHours().toString().padStart(2,"0"),v=o.getMinutes().toString().padStart(2,"0"),y=o.getSeconds().toString().padStart(2,"0");return`${u}-${O}-${l} ${a}:${v}:${y}`},calculateGrandTotal(s,o){return(s*o).toFixed(2)},calculateSubTotal(s,o){return(s*o).toFixed(2)},productImagePath(s){return s?"/storage/"+s.replace("public/",""):"resources/js/Assets/Images/Image1.png"},showOrderDetails(s){console.log="aaaaaah",this.selectedOrder=s,this.isModalOpen=!0},closeModal(){this.isModalOpen=!1}}},r=s=>(j("data-v-97ebca4d"),s=s(),w(),s),C={class:"orders-container"},N=r(()=>t("h1",{class:"orders-title"},"Mani Pasūtījumi",-1)),T={class:"order-images"},B=["src"],F={key:1,class:"placeholder-image"},L={class:"order-info"},K=r(()=>t("strong",null,"Pasūtījuma nr.:",-1)),V=r(()=>t("strong",null,"Statuss:",-1)),q=r(()=>t("strong",null,"Cena:",-1)),z=["onClick"],A={key:0,class:"no-orders"},E=r(()=>t("p",null,"Nav atrasti pasūtījumi.",-1)),G=[E],Y={class:"order-items-container"},H={class:"product-image"},J=["src"],Q={class:"product-details"},R={class:"product-title"},U={class:"product-summary"},W=r(()=>t("p",null,"Tax - 0.00€",-1)),X={class:"order-summary"},Z=r(()=>t("div",{class:"order-summary-label"},[t("strong",null,"Starpsumma"),t("p",null,"Nodokļi"),t("p",null,"Piegāde"),t("strong",null,"Kopsumma"),t("p",null,"Kopā samaksāts"),t("p",null,"Kopā atgriezts"),t("p",null,"Kopējais maksājums")],-1)),$={class:"order-summary-values"},tt=r(()=>t("p",null,"€0.00",-1)),et=r(()=>t("p",null,"€0.00",-1)),st=r(()=>t("p",null,"€0.00",-1)),ot=r(()=>t("h3",null,"Klients",-1)),lt=r(()=>t("h3",null,"Piegādes adrese:",-1)),rt=r(()=>t("h3",null,"Pasūtījuma info",-1)),nt=r(()=>t("strong",null,"Pasūtījuma datums:",-1)),at=r(()=>t("strong",null,"Statuss:",-1));function ct(s,o,u,O,l,a){const v=M("Modal"),y=M("MainLayout");return c(),k(y,null,{default:_(()=>[t("div",C,[N,(c(!0),d(h,null,m(a.groupedByMonth,(n,S)=>(c(),d("div",{key:S,class:"order-month-block"},[t("h2",null,e(S),1),(c(!0),d(h,null,m(n,i=>(c(),d("div",{key:i.id,class:"order-card"},[t("div",T,[(c(),d(h,null,m(4,p=>{var f;return t("div",{key:p,class:"product-image"},[i.items[p-1]?(c(),d("img",{key:0,src:a.productImagePath((f=i.items[p-1].product.images[0])==null?void 0:f.image),alt:"Product Image"},null,8,B)):g("",!0),i.items[p-1]?g("",!0):(c(),d("div",F))])}),64))]),t("div",L,[t("div",null,[K,t("p",null,e(i.id),1)]),t("div",null,[V,t("p",null,e(i.status),1)]),t("div",null,[q,t("p",null,e(i.total_price)+" €",1)]),t("button",{class:"view-details-btn",onClick:p=>a.showOrderDetails(i)}," Skatīt ",8,z)])]))),128))]))),128)),u.orders.length===0?(c(),d("div",A,G)):g("",!0),l.isModalOpen?(c(),k(v,{key:1,onClose:a.closeModal,showSidebar:!0},{header:_(()=>[t("h2",null,"#"+e(l.selectedOrder.id)+" Pasūtījums",1)]),content:_(()=>[t("div",Y,[t("h3",null," Pasūtījuma preces ("+e(l.selectedOrder.items.length)+") ",1),(c(!0),d(h,null,m(l.selectedOrder.items,n=>(c(),d("div",{key:n.id,class:"order-item"},[t("div",H,[t("img",{src:a.productImagePath(n.product.images[0].image),alt:"Product Image"},null,8,J)]),t("div",Q,[t("p",R,e(n.product.title),1),t("p",null,e(n.product.price)+"€ Par Vienību x "+e(n.quantity)+" Daudzums ",1)]),t("div",U,[t("h3",null,e(a.calculateGrandTotal(n.product.price,n.quantity))+"€ ",1),t("p",null,"Price - "+e(n.product.price)+"€",1),W,t("p",null," Sub Total - "+e(a.calculateSubTotal(n.product.price,n.quantity))+"€ ",1)])]))),128)),t("div",X,[Z,t("div",$,[t("strong",null,"€"+e(l.selectedOrder.total_price),1),tt,et,t("strong",null,"€"+e(l.selectedOrder.total_price),1),t("p",null,"€"+e(l.selectedOrder.total_price),1),st,t("p",null,"€"+e(l.selectedOrder.total_price),1)])])])]),"side-content":_(()=>[ot,t("p",null,[t("strong",null,e(l.selectedOrder.full_name),1)]),t("p",null,e(l.selectedOrder.email),1),t("p",null,e(l.selectedOrder.phone_number),1),lt,t("p",null,e(l.selectedOrder.shipping_country)+" "+e(l.selectedOrder.shipping_address)+", "+e(l.selectedOrder.shipping_city)+", "+e(l.selectedOrder.shipping_postal_code),1),rt,t("p",null,[nt,P(" "+e(a.formatDateNumeral(l.selectedOrder.created_at)),1)]),t("p",null,[at,P(" "+e(l.selectedOrder.status),1)])]),footer:_(()=>[t("button",{onClick:o[0]||(o[0]=(...n)=>a.closeModal&&a.closeModal(...n))},"Aizvērt")]),_:1},8,["onClose"])):g("",!0)])]),_:1})}const St=I(x,[["render",ct],["__scopeId","data-v-97ebca4d"]]);export{St as default};
