import{T as h,n as p,o,g as r,b as e,F as m,l as _,t as d,m as y,h as b,d as C,v as k,p as v,q as g}from"./index.esm-BSd0a89p.js";/* empty css                                                                    */import{_ as f}from"./_plugin-vue_export-helper-DlAUqK2U.js";const w={components:{},props:{cartItems:Array,cart:Array,isVisible:Boolean},emits:["close","removeItem","clearCart","updateQuantity"],data(){return{isSidebarVisible:!1,form:h({cartItems:[]})}},methods:{checkout(){axios.post(route("checkout"),{cartItems:this.cartItems}).then(t=>{window.location.href=t.data.url}).catch(t=>{console.error("Checkout error:",t.response.data)})},close(){this.$emit("close")},removeItem(t){this.$emit("removeItem",t)},clearCart(){confirm("Vai esat pārliecināts, ka vēlaties notīrīt grozu?")&&this.$emit("clearCart")},increaseQuantity(t){if(t.quantity<5){const s=t.quantity+1;t.quantity=s,this.$emit("updateQuantity",t,s)}},decreaseQuantity(t){if(t.quantity>1){const s=t.quantity-1;t.quantity=s,this.$emit("updateQuantity",t,s)}},productImagePath(t){return t.image?"/storage/"+t.image.replace("public/",""):"resources/js/Assets/Images/Image1.png"},itemTotalPrice(t){return(t.quantity*t.product.price).toFixed(2)}},computed:{orderTotalPrice(){return this.cartItems.reduce((t,s)=>t+s.quantity*s.product.price,0).toFixed(2)}},watch:{isVisible(t){t?p(()=>{setTimeout(()=>{this.isSidebarVisible=!0},1)}):this.isSidebarVisible=!1}}},n=t=>(v("data-v-08384e8d"),t=t(),g(),t),I={class:"cart-heading"},V=n(()=>e("h3",null,"Grozs",-1)),q=n(()=>e("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M6 6L18 18M18 6L6 18","stroke-width":"2","stroke-linecap":"sharp","stroke-linejoin":"sharp"})],-1)),x=[q],P={key:0,class:"cart-content"},Q={class:"cart-item-list"},S=["src","alt"],M={class:"cart-item-info"},T={class:"quantity-control"},B=["onClick"],L=["onUpdate:modelValue"],z=["onClick"],F=["onClick"],j=n(()=>e("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M4 6H20M16 6L15.7294 5.18807C15.4671 4.40125 15.3359 4.00784 15.0927 3.71698C14.8779 3.46013 14.6021 3.26132 14.2905 3.13878C13.9376 3 13.523 3 12.6936 3H11.3064C10.477 3 10.0624 3 9.70951 3.13878C9.39792 3.26132 9.12208 3.46013 8.90729 3.71698C8.66405 4.00784 8.53292 4.40125 8.27064 5.18807L8 6M18 6V16.2C18 17.8802 18 18.7202 17.673 19.362C17.3854 19.9265 16.9265 20.3854 16.362 20.673C15.7202 21 14.8802 21 13.2 21H10.8C9.11984 21 8.27976 21 7.63803 20.673C7.07354 20.3854 6.6146 19.9265 6.32698 19.362C6 18.7202 6 17.8802 6 16.2V6M14 10V17M10 10V17","stroke-width":"2","stroke-linecap":"sharp","stroke-linejoin":"sharp"})],-1)),A=[j],H={class:"bottom-box"},N={key:1},D=n(()=>e("p",null,"Your cart is empty.",-1)),G=[D];function U(t,s,l,E,u,i){return l.isVisible?(o(),r("div",{key:0,class:y(["cart-sidebar",{visible:u.isSidebarVisible}])},[e("div",I,[V,e("button",{onClick:s[0]||(s[0]=(...a)=>i.close&&i.close(...a)),class:"close-btn"},x)]),l.cartItems.length?(o(),r("div",P,[e("ul",Q,[(o(!0),r(m,null,_(l.cartItems,a=>(o(),r("li",{key:a.id,class:"cart-item"},[e("img",{src:i.productImagePath(a.product.images[0]),alt:a.product.title,class:"cart-product-image"},null,8,S),e("div",M,[e("p",null,d(a.product.title),1),e("p",null,d(i.itemTotalPrice(a))+"€",1),e("div",T,[e("button",{onClick:c=>i.decreaseQuantity(a),class:"quantity-btn"}," - ",8,B),C(e("input",{type:"text","onUpdate:modelValue":c=>a.quantity=c,class:"quantity-input",readonly:""},null,8,L),[[k,a.quantity]]),e("button",{onClick:c=>i.increaseQuantity(a),class:"quantity-btn"}," + ",8,z)])]),e("button",{onClick:c=>i.removeItem(a.id),class:"delete-btn"},A,8,F)]))),128))]),e("div",H,[e("p",null,"Kopā: "+d(i.orderTotalPrice)+"€",1),e("button",{class:"w-full btn-primary",onClick:s[1]||(s[1]=(...a)=>i.checkout&&i.checkout(...a))}," Pirkt "),e("button",{class:"w-full btn-secondary",onClick:s[2]||(s[2]=(...a)=>i.clearCart&&i.clearCart(...a))}," Notīrīt Grozu ")])])):(o(),r("div",N,G))],2)):b("",!0)}const O=f(w,[["render",U],["__scopeId","data-v-08384e8d"]]);export{O as default};
