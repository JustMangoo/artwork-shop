import{A as V}from"./AdminLayout-DefDVgKs.js";import{M as L}from"./Modal-Dobz_Sg4.js";import{I as x}from"./InputError-DCZ6rp5i.js";import{_ as I}from"./InputLabel-C5IakI4U.js";import{Z as E,T as U,s as h,o as n,g as c,a,w as l,F as b,b as e,c as T,t as u,i as g,d as _,v as S,l as k,x as A,h as F,y as O,p as j,q as B}from"./index.esm-BSd0a89p.js";import{_ as H}from"./search-DYZCOKiQ.js";import{_ as R}from"./pen-DxR_m5PC.js";import{_ as N}from"./trash-BBH0x-Tu.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Navigation-DHCB5LAN.js";/* empty css                                                                   */import"./CartSidebar-D12dIBYV.js";/* empty css                                                                    *//* empty css                                                                   */const G={components:{AdminLayout:V,Head:E,Modal:L,InputError:x,InputLabel:I},props:{users:Array,roles:Array},data(){return{isModalOpen:!1,isEditMode:!1,showSearch:!1,isSearchVisible:!1,searchTerm:""}},setup(){return{form:U({id:null,name:"",email:"",role:""})}},methods:{performSearch(){this.$inertia.get(route("users.index"),{search:this.searchTerm},{preserveState:!0,preserveScroll:!0,replace:!0})},resetSearch(){this.searchTerm="",this.performSearch()},submitForm(){const s=this.form.id?"patch":"post",o=this.form.id?route("users.update",this.form.id):route("users.store");console.log(this.form),this.form[s](o,{onSuccess:()=>{this.isModalOpen=!1,this.resetForm()},onError:p=>{console.error("There was an error:",p)}})},resetForm(){this.form.reset(),this.isEditMode=!1},editUser(s){this.isEditMode=!0,this.form.reset(),this.form.id=s.id,this.form.name=s.name,this.form.email=s.email,this.form.role=s.role.id,this.isModalOpen=!0},deleteUser(s){confirm(`Are you sure you want to delete ${s.name}?`)&&this.$inertia.delete(route("users.destroy",s.id))}}},d=s=>(j("data-v-eba96f36"),s=s(),B(),s),K={class:"container"},q={class:"input-field"},P={class:"input-field"},Z={class:"roles-input"},z=["id","value","onUpdate:modelValue"],J=["for"],Q={class:"modal-footer"},W=d(()=>e("header",{class:"header"},[e("h1",null,"Lietotāji")],-1)),X={class:"main-content"},Y={class:"filters"},$={class:"filters-header"},ee=d(()=>e("h2",null,"Filtrēšana",-1)),te=d(()=>e("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"},null,-1)),oe=d(()=>e("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)),se=d(()=>e("g",{id:"SVGRepo_iconCarrier"},[e("path",{d:"M3 8H16.5C18.9853 8 21 10.0147 21 12.5C21 14.9853 18.9853 17 16.5 17H3M3 8L6 5M3 8L6 11","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),re=[te,oe,se],ie={class:"search-wrapper"},le=d(()=>e("img",{src:H,alt:"search icon"},null,-1)),ne=[le],ae={class:"table-container"},de={cellspacing:"0",cellpadding:"0"},me=d(()=>e("thead",null,[e("tr",null,[e("th",null,"ID"),e("th",null,"Vārds"),e("th",{class:"hide-ssmall"},"Epasts"),e("th",null,"Loma"),e("th")])],-1)),ce={class:"hide-ssmall"},ue={class:"table-badge"},he=["onClick"],pe=["onClick"];function _e(s,o,p,i,m,r){const M=h("Head"),f=h("InputLabel"),y=h("InputError"),w=h("Modal"),C=h("AdminLayout");return n(),c(b,null,[a(M,{title:"Users"}),a(C,null,{default:l(()=>[e("div",K,[m.isModalOpen?(n(),T(w,{key:0,onClose:o[4]||(o[4]=t=>m.isModalOpen=!1),showSidebar:!0},{header:l(()=>[e("h2",null,u(m.isEditMode?"Rediģēt Lietotāju":"Pievienot Lietotāju"),1)]),content:l(()=>[e("div",q,[a(f,{for:"name"},{default:l(()=>[g("Vārds:")]),_:1}),_(e("input",{type:"text",id:"name","onUpdate:modelValue":o[0]||(o[0]=t=>i.form.name=t)},null,512),[[S,i.form.name]]),a(y,{message:i.form.errors.name},null,8,["message"])]),e("div",P,[a(f,{for:"email"},{default:l(()=>[g("Epasts:")]),_:1}),_(e("input",{type:"email",id:"email","onUpdate:modelValue":o[1]||(o[1]=t=>i.form.email=t)},null,512),[[S,i.form.email]]),a(y,{message:i.form.errors.email},null,8,["message"])])]),"side-content":l(()=>[e("div",Z,[a(f,{for:"role"},{default:l(()=>[g("Loma:")]),_:1}),(n(!0),c(b,null,k(p.roles,t=>(n(),c("div",{key:t.id,class:"radio-tag"},[_(e("input",{type:"radio",id:"role-"+t.id,value:t.id,"onUpdate:modelValue":v=>i.form.role=v},null,8,z),[[A,i.form.role]]),e("label",{for:"role-"+t.id,class:"tag-label"},u(t.name),9,J)]))),128))])]),footer:l(()=>[e("div",Q,[e("button",{class:"btn-secondary",onClick:o[2]||(o[2]=t=>m.isModalOpen=!1)}," Atcelt "),e("button",{class:"btn-primary",onClick:o[3]||(o[3]=(...t)=>r.submitForm&&r.submitForm(...t))}," Saglabāt ")])]),_:1})):F("",!0),W,e("div",X,[e("aside",Y,[e("div",$,[ee,(n(),c("svg",{onClick:o[5]||(o[5]=(...t)=>r.resetSearch&&r.resetSearch(...t)),viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},re))]),e("div",ie,[_(e("input",{"onUpdate:modelValue":o[6]||(o[6]=t=>m.searchTerm=t),type:"text",class:"search-input",onKeyup:o[7]||(o[7]=O((...t)=>r.performSearch&&r.performSearch(...t),["enter"]))},null,544),[[S,m.searchTerm]]),e("button",{class:"search-button",onClick:o[8]||(o[8]=(...t)=>r.performSearch&&r.performSearch(...t))},ne)])]),e("div",ae,[e("table",de,[me,e("tbody",null,[(n(!0),c(b,null,k(p.users,t=>(n(),c("tr",{key:t.id},[e("td",null,u(t.id),1),e("td",null,u(t.name),1),e("td",ce,u(t.email),1),e("td",null,[e("div",ue,u(t.role.name),1)]),e("td",null,[e("img",{class:"action-btn",src:R,alt:"edit-icon",onClick:v=>r.editUser(t)},null,8,he),e("img",{class:"action-btn",src:N,alt:"delete-icon",onClick:v=>r.deleteUser(t)},null,8,pe)])]))),128))])])])])])]),_:1})],64)}const Ee=D(G,[["render",_e],["__scopeId","data-v-eba96f36"]]);export{Ee as default};
